package com.strod.yssl.pages.details;

import java.util.ArrayList;

import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.webkit.WebView;
import android.widget.ListView;
import android.widget.AdapterView.OnItemClickListener;

import com.handmark.pulltorefresh.library.PullToRefreshBase;
import com.handmark.pulltorefresh.library.PullToRefreshListView;
import com.handmark.pulltorefresh.library.PullToRefreshBase.OnRefreshListener2;
import com.roid.net.http.OnHttpRespondLisenter;
import com.roid.ui.FragmentControlActivity;
import com.strod.yssl.R;
import com.strod.yssl.pages.details.entity.Comment.CommentType;
import com.strod.yssl.pages.main.entity.Article.ContentType;
/**
 * article details activity
 * @author user
 *
 */
public class DetailsActivity extends FragmentControlActivity implements OnRefreshListener2<ListView>,OnClickListener,OnHttpRespondLisenter{

	/**tag*/
	public static final String ARTICLE="article";
	/**ContentType instance*/
	private ContentType mContentType;
	
	/**UI listview*/
	private PullToRefreshListView mPullRefreshListView;
	/**listview datasource*/
	private ArrayList<CommentType> mCommentList;
	/**listview adapter*/
	private CommentAdapter mAdapter;
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		super.onCreate(savedInstanceState);
		if(getIntent()!=null){
			mContentType = getIntent().getParcelableExtra(ARTICLE);
		}
		
		if(mCommentList == null){
			mCommentList = new ArrayList<CommentType>();
		}
		
		initView();
	}

	private void initView() {
		mPullRefreshListView = (PullToRefreshListView) findViewById(R.id.pull_refresh_list);
		ListView actualListView = mPullRefreshListView.getRefreshableView();
		//add webview to listview head
		WebView mWebView = new WebView(this);
		actualListView.addHeaderView(v);
		mAdapter = new CommentAdapter(this, mCommentList);
		mPullRefreshListView.setAdapter(mAdapter);
		
		mPullRefreshListView.setOnRefreshListener(this);
	}

	@Override
	public void onClick(View v) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void onPullDownToRefresh(PullToRefreshBase<ListView> refreshView) {
		// TODO Auto-generated method stub
		//not use
	}

	@Override
	public void onPullUpToRefresh(PullToRefreshBase<ListView> refreshView) {
		// TODO Auto-generated method stub
		
	}
	
	@Override
	public void onHttpResponse(int taskId, String data) {
		// TODO Auto-generated method stub
		
	}

	@Override
	protected void onDestroy() {
		// TODO Auto-generated method stub
		super.onDestroy();
	}
}
